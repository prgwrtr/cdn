!function(_t,gt){"use strict";if(!_t||!_t.document)throw new Error("SoundManager requires a browser with window and document objects.");var e=null;function t(t,x){this.setupOptions={url:t||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onerror:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,playbackRate:1,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={onfailure:null,isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1},flac:{type:["audio/flac"],required:!1}},this.movieID="sm2-container",this.id=x||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20170601",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var N,m,U,B,W,g,y,w,o,v,j,q,V,i,n,a,Q,K,$,G,_,J,s,X,z,Z,Y,b,ee,te,oe,ne,ie,O,ae,D,M,se,re,le,L,T,ue,de,ce,fe,he,pe,me,_e,ge,r,ye,we,ve,P,be,l,Oe,De,S,Me,Le,Te,Pe,Se,Fe,F=this,Ie=null,I=null,u="soundManager",d=u+": ",He="HTML5::",H=navigator.userAgent,Ae=_t.location.href.toString(),A=document,c=[],Ee=!0,Re=!1,ke=!1,f=!1,h=!1,Ce=!1,xe=0,Ne=["log","info","warn","error"],Ue=8,Be=null,We=null,je=!1,qe=!1,Ve=0,Qe=null,E=[],p=null,Ke=Array.prototype.slice,R=!1,$e=0,k=1e3,Ge=H.match(/(ipad|iphone|ipod)/i),Je=H.match(/android/i),C=H.match(/msie|trident/i),Xe=H.match(/webkit/i),ze=H.match(/safari/i)&&!H.match(/chrome/i),Ze=H.match(/opera/i),Ye=H.match(/(mobile|pre\/|xoom)/i)||Ge||Je,et=!Ae.match(/usehtml5audio/i)&&!Ae.match(/sm2-ignorebadua/i)&&ze&&!H.match(/silk/i)&&H.match(/OS\sX\s10_6_([3-7])/i),tt=_t.console!==gt&&console.log!==gt,ot=A.hasFocus!==gt?A.hasFocus():null,nt=ze&&(A.hasFocus===gt||!A.hasFocus()),it=!nt,at=/(mp3|mp4|mpa|m4a|m4b)/i,st="about:blank",rt="data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==",lt=A.location?A.location.protocol.match(/http/i):null,ut=lt?"":"//",dt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4|m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,ct=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],ft=new RegExp("\\.("+ct.join("|")+")(\\?.*)?$","i");function ht(e){return F.preferFlash&&l&&!F.ignoreFlash&&F.flash[e]!==gt&&F.flash[e]}function pt(e){var e=Ke.call(e),t=e.length;return Se?(e[1]="on"+e[1],3<t&&e.pop()):3===t&&e.push(!1),e}function mt(e,t){var o=e.shift(),t=[Fe[t]];Se?o[t](e[0],e[1]):o[t].apply(o,e)}function e(o){return function(e){var t=this._s,t=t&&t._a?o.call(this,e):(t&&t.id?F._wD(t.id+": Ignoring "+e.type):F._wD(He+"Ignoring "+e.type),null);return t}}this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!lt,M={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},ge=[null,"MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"],this.hasHTML5=function(){try{return Audio!==gt&&(Ze&&opera!==gt&&opera.version()<10?new Audio(null):new Audio).canPlayType!==gt}catch(e){return!1}}(),this.setup=function(e){var t=!F.url;return e!==gt&&f&&p&&F.ok()&&(e.flashVersion!==gt||e.url!==gt||e.html5Test!==gt)&&L(O("setupLate")),j(e),R||(Ye?F.setupOptions.ignoreMobileRestrictions&&!F.setupOptions.forceUseGlobalHTML5Audio||(E.push(_.globalHTML5),R=!0):F.setupOptions.forceUseGlobalHTML5Audio&&(E.push(_.globalHTML5),R=!0)),!Pe&&Ye&&(F.setupOptions.ignoreMobileRestrictions?E.push(_.ignoreMobile):(F.setupOptions.useHTML5Audio&&!F.setupOptions.preferFlash||F._wD(_.mobileUA),F.setupOptions.useHTML5Audio=!0,F.setupOptions.preferFlash=!1,Ge?F.ignoreFlash=!0:(!Je||H.match(/android\s2\.3/i))&&Je||(F._wD(_.globalHTML5),R=!0))),e&&(t&&z&&e.url!==gt&&F.beginDelayedInit(),z||e.url===gt||"complete"!==A.readyState||setTimeout(s,1)),Pe=!0,F},this.ok=function(){return p?f&&!h:F.useHTML5Audio&&F.hasHTML5},this.supported=this.ok,this.getMovie=function(e){return m(e)||A[e]||_t[e]},this.createSound=function(e,t){var o,n=null,i=u+".createSound(): ",a=i+O(f?"notOK":"notReady");if(!f||!F.ok())return L(a),!1;if((o=v(e=t!==gt?{id:e,url:t}:e)).url=fe(o.url),o.id===gt&&(o.id=F.setupOptions.idPrefix+$e++),o.id.toString().charAt(0).match(/^[0-9]$/)&&F._wD(i+O("badID",o.id),2),F._wD(i+o.id+(o.url?" ("+o.url+")":""),1),T(o.id,!0))return F._wD(i+o.id+" exists",1),F.sounds[o.id];function s(){return o=re(o),F.sounds[o.id]=new N(o),F.soundIDs.push(o.id),F.sounds[o.id]}if(me(o))n=s(),F.html5Only||F._wD(o.id+": Using HTML5"),n._setup_html5(o);else{if(F.html5Only)return F._wD(o.id+": No HTML5 support for this sound, and no Flash. Exiting."),s();if(F.html5.usingFlash&&o.url&&o.url.match(/data:/i))return F._wD(o.id+": data: URIs not supported via Flash. Exiting."),s();8<g&&(null===o.isMovieStar&&(o.isMovieStar=!!(o.serverURL||o.type&&o.type.match(dt)||o.url&&o.url.match(ft))),o.isMovieStar&&(F._wD(i+"using MovieStar handling"),1<o.loops&&w("noNSLoop"))),o=le(o,i),n=s(),8===g?I._createSound(o.id,o.loops||1,o.usePolicyFile):(I._createSound(o.id,o.url,o.usePeakData,o.useWaveformData,o.useEQData,o.isMovieStar,!!o.isMovieStar&&o.bufferTime,o.loops||1,o.serverURL,o.duration||null,o.autoPlay,!0,o.autoLoad,o.usePolicyFile),o.serverURL||(n.connected=!0,o.onconnect&&o.onconnect.apply(n))),o.serverURL||!o.autoLoad&&!o.autoPlay||n.load(o)}return!o.serverURL&&o.autoPlay&&n.play(),n},this.destroySound=function(e,t){if(!T(e))return!1;var o,n=F.sounds[e];for(n.stop(),n._iO={},n.unload(),o=0;o<F.soundIDs.length;o++)if(F.soundIDs[o]===e){F.soundIDs.splice(o,1);break}return t||n.destruct(!0),n=null,delete F.sounds[e],!0},this.load=function(e,t){return!!T(e)&&F.sounds[e].load(t)},this.unload=function(e){return!!T(e)&&F.sounds[e].unload()},this.onPosition=function(e,t,o,n){return!!T(e)&&F.sounds[e].onposition(t,o,n)},this.onposition=this.onPosition,this.clearOnPosition=function(e,t,o){return!!T(e)&&F.sounds[e].clearOnPosition(t,o)},this.play=function(e,t){var o=null,n=t&&!(t instanceof Object);if(!f||!F.ok())return L(u+".play(): "+O(f?"notOK":"notReady")),!1;if(T(e,n))n&&(t={url:t});else{if(!n)return!1;(t=n?{url:t}:t)&&t.url&&(F._wD(u+'.play(): Attempting to create "'+e+'"',1),t.id=e,o=F.createSound(t).play())}return o=null===o?F.sounds[e].play(t):o},this.start=this.play,this.setPlaybackRate=function(e,t,o){return!!T(e)&&F.sounds[e].setPlaybackRate(t,o)},this.setPosition=function(e,t){return!!T(e)&&F.sounds[e].setPosition(t)},this.stop=function(e){return!!T(e)&&(F._wD(u+".stop("+e+")",1),F.sounds[e].stop())},this.stopAll=function(){for(var e in F._wD(u+".stopAll()",1),F.sounds)F.sounds.hasOwnProperty(e)&&F.sounds[e].stop()},this.pause=function(e){return!!T(e)&&F.sounds[e].pause()},this.pauseAll=function(){for(var e=F.soundIDs.length-1;0<=e;e--)F.sounds[F.soundIDs[e]].pause()},this.resume=function(e){return!!T(e)&&F.sounds[e].resume()},this.resumeAll=function(){for(var e=F.soundIDs.length-1;0<=e;e--)F.sounds[F.soundIDs[e]].resume()},this.togglePause=function(e){return!!T(e)&&F.sounds[e].togglePause()},this.setPan=function(e,t){return!!T(e)&&F.sounds[e].setPan(t)},this.setVolume=function(e,t){var o,n;if(e===gt||isNaN(e)||t!==gt)return!!T(e)&&F.sounds[e].setVolume(t);for(o=0,n=F.soundIDs.length;o<n;o++)F.sounds[F.soundIDs[o]].setVolume(e);return!1},this.mute=function(e){var t=0;if(e=e instanceof String?null:e)return!!T(e)&&(F._wD(u+'.mute(): Muting "'+e+'"'),F.sounds[e].mute());for(F._wD(u+".mute(): Muting all sounds"),t=F.soundIDs.length-1;0<=t;t--)F.sounds[F.soundIDs[t]].mute();return F.muted=!0},this.muteAll=function(){F.mute()},this.unmute=function(e){var t;if(e=e instanceof String?null:e)return!!T(e)&&(F._wD(u+'.unmute(): Unmuting "'+e+'"'),F.sounds[e].unmute());for(F._wD(u+".unmute(): Unmuting all sounds"),t=F.soundIDs.length-1;0<=t;t--)F.sounds[F.soundIDs[t]].unmute();return!(F.muted=!1)},this.unmuteAll=function(){F.unmute()},this.toggleMute=function(e){return!!T(e)&&F.sounds[e].toggleMute()},this.getMemoryUse=function(){var e=0;return e=I&&8!==g?parseInt(I._getMemoryUse(),10):e},this.disable=function(e){var t;if(e===gt&&(e=!1),h)return!1;for(h=!0,w("shutdown",1),t=F.soundIDs.length-1;0<=t;t--)oe(F.sounds[F.soundIDs[t]]);return oe(F),o(e),P.remove(_t,"load",n),!0},this.canPlayMIME=function(e){var t;return t=!(t=F.hasHTML5?_e({type:e}):t)&&p?e&&F.ok()?!!(8<g&&e.match(dt)||e.match(F.mimePattern)):null:t},this.canPlayURL=function(e){var t;return t=!(t=F.hasHTML5?_e({url:e}):t)&&p?e&&F.ok()?!!e.match(F.filePattern):null:t},this.canPlayLink=function(e){return!(e.type===gt||!e.type||!F.canPlayMIME(e.type))||F.canPlayURL(e.href)},this.getSoundById=function(e,t){if(!e)return null;var o=F.sounds[e];return o||t||F._wD(u+'.getSoundById(): Sound "'+e+'" not found.',2),o},this.onready=function(e,t){var o="onready";if("function"!=typeof e)throw O("needFunction",o);return f&&F._wD(O("queue",o)),V(o,e,t=t||_t),i(),!0},this.ontimeout=function(e,t){var o="ontimeout";if("function"!=typeof e)throw O("needFunction",o);return f&&F._wD(O("queue",o)),V(o,e,t=t||_t),i({type:o}),!0},this._writeDebug=function(e,t){var o,n;return!!F.setupOptions.debugMode&&(!!(tt&&F.useConsole&&(t&&"object"==typeof t?console.log(e,t):Ne[t]!==gt?console[Ne[t]](e):console.log(e),F.consoleOnly))||!!(o=m("soundmanager-debug"))&&(n=A.createElement("div"),++xe%2==0&&(n.className="sm2-alt"),t=t===gt?0:parseInt(t,10),n.appendChild(A.createTextNode(e)),t&&(2<=t&&(n.style.fontWeight="bold"),3===t&&(n.style.color="#ff3333")),o.insertBefore(n,o.firstChild),!(o=null)))},-1!==Ae.indexOf("sm2-debug=alert")&&(this._writeDebug=function(e){_t.alert(e)}),this._wD=this._writeDebug,this._debug=function(){var e,t;for(w("currentObj",1),e=0,t=F.soundIDs.length;e<t;e++)F.sounds[F.soundIDs[e]]._debug()},this.reboot=function(e,t){var o,n,i;for(F.soundIDs.length&&F._wD("Destroying "+F.soundIDs.length+" SMSound object"+(1!==F.soundIDs.length?"s":"")+"..."),o=F.soundIDs.length-1;0<=o;o--)F.sounds[F.soundIDs[o]].destruct();if(I)try{C&&(We=I.innerHTML),Be=I.parentNode.removeChild(I)}catch(e){w("badRemove",2)}if(We=Be=p=I=null,F.enabled=z=f=je=qe=Re=ke=h=R=F.swfLoaded=!1,F.soundIDs=[],F.sounds={},$e=0,Pe=!1,e)c=[];else for(o in c)if(c.hasOwnProperty(o))for(n=0,i=c[o].length;n<i;n++)c[o][n].fired=!1;return t||F._wD(u+": Rebooting..."),F.html5={usingFlash:null},F.flash={},F.html5Only=!1,F.ignoreFlash=!1,_t.setTimeout(function(){t||F.beginDelayedInit()},20),F},this.reset=function(){return w("reset"),F.reboot(!0,!0)},this.getMoviePercent=function(){return I&&"PercentLoaded"in I?I.PercentLoaded():null},this.beginDelayedInit=function(){Ce=!0,s(),setTimeout(function(){return!qe&&(Y(),J(),qe=!0)},20),a()},this.destruct=function(){F._wD(u+".destruct()"),F.disable(!0)},N=function(e){var i,a,t,n,r,l,s,u,d,c=this,f=!1,h=[],p=0,m=null,_={duration:null,time:null};this.id=e.id,this.sID=this.id,this.url=e.url,this.options=v(e),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,d=!this.url,this.id3={},this._debug=function(){F._wD(c.id+": Merged options:",c.options)},this.load=function(e){var t;if(e!==gt?c._iO=v(e,c.options):(e=c.options,c._iO=e,m&&m!==c.url&&(w("manURL"),c._iO.url=c.url,c.url=null)),c._iO.url||(c._iO.url=c.url),c._iO.url=fe(c._iO.url),c.instanceOptions=c._iO,t=c._iO,F._wD(c.id+": load ("+t.url+")"),!t.url&&!c.url)return F._wD(c.id+": load(): url is unassigned. Exiting.",2),c;if(c.isHTML5||8!==g||c.url||t.autoPlay||F._wD(c.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1),t.url===c.url&&0!==c.readyState&&2!==c.readyState)return w("onURL",1),3===c.readyState&&t.onload&&Te(c,function(){t.onload.apply(c,[!!c.duration])}),c;if(c.loaded=!1,c.readyState=1,c.playState=0,c.id3={},me(t))c._setup_html5(t)._called_load?F._wD(c.id+": Ignoring request to load again"):(c._html5_canplay=!1,c.url!==t.url&&(F._wD(w("manURL")+": "+t.url),c._a.src=t.url,c.setPosition(0)),c._a.autobuffer="auto",c._a.preload="auto",c._a._called_load=!0);else{if(F.html5Only)return F._wD(c.id+": No flash support. Exiting."),c;if(c._iO.url&&c._iO.url.match(/data:/i))return F._wD(c.id+": data: URIs not supported via Flash. Exiting."),c;try{c.isHTML5=!1,c._iO=le(re(t)),c._iO.autoPlay&&(c._iO.position||c._iO.from)&&(F._wD(c.id+": Disabling autoPlay because of non-zero offset case"),c._iO.autoPlay=!1),t=c._iO,8===g?I._load(c.id,t.url,t.stream,t.autoPlay,t.usePolicyFile):I._load(c.id,t.url,!!t.stream,!!t.autoPlay,t.loops||1,!!t.autoLoad,t.usePolicyFile)}catch(e){w("smError",2),y("onload",!1),b({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return c.url=t.url,c},this.unload=function(){return 0!==c.readyState&&(F._wD(c.id+": unload()"),c.isHTML5?(n(),c._a&&(c._a.pause(),m=ye(c._a))):8===g?I._unload(c.id,st):I._unload(c.id),i()),c},this.destruct=function(e){F._wD(c.id+": Destruct"),c.isHTML5?(n(),c._a&&(c._a.pause(),ye(c._a),R||t(),c._a._s=null,c._a=null)):(c._iO.onfailure=null,I._destroySound(c.id)),e||F.destroySound(c.id,!0)},this.play=function(e,t){var o,n,i,a,s=c.id+": play(): ";if(t=t===gt||t,e=e||{},c.url&&(c._iO.url=c.url),c._iO=v(c._iO,c.options),c._iO=v(e,c._iO),c._iO.url=fe(c._iO.url),c.instanceOptions=c._iO,!c.isHTML5&&c._iO.serverURL&&!c.connected)return c.getAutoPlay()||(F._wD(s+" Netstream not connected yet - setting autoPlay"),c.setAutoPlay(!0)),c;if(me(c._iO)&&(c._setup_html5(c._iO),r()),1===c.playState&&!c.paused){if(!c._iO.multiShot)return F._wD(s+"Already playing (one-shot)",1),c.isHTML5&&c.setPosition(c._iO.position),c;F._wD(s+"Already playing (multi-shot)",1)}if(e.url&&e.url!==c.url&&(c.readyState||c.isHTML5||8!==g||!d?c.load(c._iO):d=!1),c.loaded)F._wD(s.substr(0,s.lastIndexOf(":")));else if(0===c.readyState){if(F._wD(s+"Attempting to load"),c.isHTML5||F.html5Only){if(!c.isHTML5)return F._wD(s+"Unsupported type. Exiting."),c;c.load(c._iO)}else c._iO.autoPlay=!0,c.load(c._iO);c.instanceOptions=c._iO}else{if(2===c.readyState)return F._wD(s+"Could not load - exiting",2),c;F._wD(s+"Loading - attempting to play...")}return!c.isHTML5&&9===g&&0<c.position&&c.position===c.duration&&(F._wD(s+"Sound at end, resetting to position: 0"),e.position=0),c.paused&&0<=c.position&&(!c._iO.serverURL||0<c.position)?(F._wD(s+"Resuming from paused state",1),c.resume()):(c._iO=v(e,c._iO),(!c.isHTML5&&null!==c._iO.position&&0<c._iO.position||null!==c._iO.from&&0<c._iO.from||null!==c._iO.to)&&0===c.instanceCount&&0===c.playState&&!c._iO.serverURL&&(o=function(){c._iO=v(e,c._iO),c.play(c._iO)},c.isHTML5&&!c._html5_canplay?(F._wD(s+"Beginning load for non-zero offset case"),c.load({_oncanplay:o})):c.isHTML5||c.loaded||c.readyState&&2===c.readyState||(F._wD(s+"Preloading for non-zero offset case"),c.load({onload:o})),c._iO=u()),(!c.instanceCount||c._iO.multiShotEvents||c.isHTML5&&c._iO.multiShot&&!R||!c.isHTML5&&8<g&&!c.getAutoPlay())&&c.instanceCount++,c._iO.onposition&&0===c.playState&&l(c),c.playState=1,c.paused=!1,c.position=c._iO.position===gt||isNaN(c._iO.position)?0:c._iO.position,c.isHTML5||(c._iO=le(re(c._iO))),c._iO.onplay&&t&&(c._iO.onplay.apply(c),f=!0),c.setVolume(c._iO.volume,!0),c.setPan(c._iO.pan,!0),1!==c._iO.playbackRate&&c.setPlaybackRate(c._iO.playbackRate),c.isHTML5?c.instanceCount<2?(r(),o=c._setup_html5(),c.setPosition(c._iO.position),o.play()):(F._wD(c.id+": Cloning Audio() for instance #"+c.instanceCount+"..."),n=new Audio(c._iO.url),i=function(){P.remove(n,"ended",i),c._onfinish(c),ye(n),n=null},a=function(){P.remove(n,"canplay",a);try{n.currentTime=c._iO.position/k}catch(e){L(c.id+": multiShot play() failed to apply position of "+c._iO.position/k)}n.play()},P.add(n,"ended",i),c._iO.volume!==gt&&(n.volume=Math.max(0,Math.min(1,c._iO.volume/100))),c.muted&&(n.muted=!0),c._iO.position?P.add(n,"canplay",a):n.play()):(t=I._start(c.id,c._iO.loops||1,9===g?c.position:c.position/k,c._iO.multiShot||!1),9!==g||t||(F._wD(s+"No sound hardware, or 32-sound ceiling hit",2),c._iO.onplayerror&&c._iO.onplayerror.apply(c)))),c},this.start=this.play,this.stop=function(e){var t,o=c._iO;return 1===c.playState&&(F._wD(c.id+": stop()"),c._onbufferchange(0),c._resetOnPosition(0),c.paused=!1,c.isHTML5||(c.playState=0),s(),o.to&&c.clearOnPosition(o.to),c.isHTML5?c._a&&(t=c.position,c.setPosition(0),c.position=t,c._a.pause(),c.playState=0,c._onTimer(),n()):(I._stop(c.id,e),o.serverURL&&c.unload()),c.instanceCount=0,c._iO={},o.onstop&&o.onstop.apply(c)),c},this.setAutoPlay=function(e){F._wD(c.id+": Autoplay turned "+(e?"on":"off")),c._iO.autoPlay=e,c.isHTML5||(I._setAutoPlay(c.id,e),e&&!c.instanceCount&&1===c.readyState&&(c.instanceCount++,F._wD(c.id+": Incremented instance count to "+c.instanceCount)))},this.getAutoPlay=function(){return c._iO.autoPlay},this.setPlaybackRate=function(e){var t=Math.max(.5,Math.min(4,e));if(t!==e&&F._wD(c.id+": setPlaybackRate("+e+"): limiting rate to "+t,2),c.isHTML5)try{c._iO.playbackRate=t,c._a.playbackRate=t}catch(e){F._wD(c.id+": setPlaybackRate("+t+") failed: "+e.message,2)}return c},this.setPosition=function(e){e===gt&&(e=0);var t,e=c.isHTML5?Math.max(e,0):Math.min(c.duration||c._iO.duration,Math.max(e,0));if(c.position=e,t=c.position/k,c._resetOnPosition(c.position),c._iO.position=e,c.isHTML5){if(c._a){if(c._html5_canplay){if(c._a.currentTime.toFixed(3)!==t.toFixed(3)){F._wD(c.id+": setPosition("+t+")");try{c._a.currentTime=t,0!==c.playState&&!c.paused||c._a.pause()}catch(e){F._wD(c.id+": setPosition("+t+") failed: "+e.message,2)}}}else if(t)return F._wD(c.id+": setPosition("+t+"): Cannot seek yet, sound not ready",2),c;c.paused&&c._onTimer(!0)}}else e=9===g?c.position:t,c.readyState&&2!==c.readyState&&I._setPosition(c.id,e,c.paused||!c.playState,c._iO.multiShot);return c},this.pause=function(e){return c.paused||0===c.playState&&1!==c.readyState||(F._wD(c.id+": pause()"),c.paused=!0,c.isHTML5?(c._setup_html5().pause(),n()):!e&&e!==gt||I._pause(c.id,c._iO.multiShot),c._iO.onpause&&c._iO.onpause.apply(c)),c},this.resume=function(){var e=c._iO;return c.paused&&(F._wD(c.id+": resume()"),c.paused=!1,c.playState=1,c.isHTML5?(c._setup_html5().play(),r()):(e.isMovieStar&&!e.serverURL&&c.setPosition(c.position),I._pause(c.id,e.multiShot)),!f&&e.onplay?(e.onplay.apply(c),f=!0):e.onresume&&e.onresume.apply(c)),c},this.togglePause=function(){return F._wD(c.id+": togglePause()"),0===c.playState?c.play({position:9!==g||c.isHTML5?c.position/k:c.position}):c.paused?c.resume():c.pause(),c},this.setPan=function(e,t){return e===gt&&(e=0),t===gt&&(t=!1),c.isHTML5||I._setPan(c.id,e),c._iO.pan=e,t||(c.pan=e,c.options.pan=e),c},this.setVolume=function(e,t){return e===gt&&(e=100),t===gt&&(t=!1),c.isHTML5?c._a&&(F.muted&&!c.muted&&(c.muted=!0,c._a.muted=!0),c._a.volume=Math.max(0,Math.min(1,e/100))):I._setVolume(c.id,F.muted&&!c.muted||c.muted?0:e),c._iO.volume=e,t||(c.volume=e,c.options.volume=e),c},this.mute=function(){return c.muted=!0,c.isHTML5?c._a&&(c._a.muted=!0):I._setVolume(c.id,0),c},this.unmute=function(){c.muted=!1;var e=c._iO.volume!==gt;return c.isHTML5?c._a&&(c._a.muted=!1):I._setVolume(c.id,(e?c._iO:c.options).volume),c},this.toggleMute=function(){return c.muted?c.unmute():c.mute()},this.onPosition=function(e,t,o){return h.push({position:parseInt(e,10),method:t,scope:o!==gt?o:c,fired:!1}),c},this.onposition=this.onPosition,this.clearOnPosition=function(e,t){var o;if(e=parseInt(e,10),!isNaN(e))for(o=0;o<h.length;o++)e!==h[o].position||t&&t!==h[o].method||(h[o].fired&&p--,h.splice(o,1))},this._processOnPosition=function(){var e,t,o=h.length;if(!o||!c.playState||o<=p)return!1;for(e=o-1;0<=e;e--)!(t=h[e]).fired&&c.position>=t.position&&(t.fired=!0,p++,t.method.apply(t.scope,[t.position]),o=h.length);return!0},this._resetOnPosition=function(e){var t,o,n=h.length;if(!n)return!1;for(t=n-1;0<=t;t--)(o=h[t]).fired&&e<=o.position&&(o.fired=!1,p--);return!0},u=function(){var e=c._iO,t=e.from,o=e.to,n=function(){F._wD(c.id+': "To" time of '+o+" reached."),c.clearOnPosition(o,n),c.stop()},i=function(){F._wD(c.id+': Playing "from" '+t),null===o||isNaN(o)||c.onPosition(o,n)};return null===t||isNaN(t)||(e.position=t,e.multiShot=!1,i()),e},l=function(){var e,t=c._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&c.onPosition(parseInt(e,10),t[e])},s=function(){var e,t=c._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&c.clearOnPosition(parseInt(e,10))},r=function(){c.isHTML5&&ue(c)},n=function(){c.isHTML5&&de(c)},(i=function(e){e||(h=[],p=0),f=!1,c._hasTimer=null,c._a=null,c._html5_canplay=!1,c.bytesLoaded=null,c.bytesTotal=null,c.duration=c._iO&&c._iO.duration?c._iO.duration:null,c.durationEstimate=null,c.buffered=[],c.eqData=[],c.eqData.left=[],c.eqData.right=[],c.failures=0,c.isBuffering=!1,c.instanceOptions={},c.instanceCount=0,c.loaded=!1,c.metadata={},c.readyState=0,c.muted=!1,c.paused=!1,c.peakData={left:0,right:0},c.waveformData={left:[],right:[]},c.playState=0,c.position=null,c.id3={}})(),this._onTimer=function(e){var t,o=!1,n={};return(c._hasTimer||e)&&c._a&&(e||(0<c.playState||1===c.readyState)&&!c.paused)&&((t=c._get_html5_duration())!==_.duration&&(_.duration=t,c.duration=t,o=!0),c.durationEstimate=c.duration,(t=c._a.currentTime*k||0)!==_.time&&(_.time=t,o=!0),(o||e)&&c._whileplaying(t,n,n,n,n)),o},this._get_html5_duration=function(){var e=c._iO,e=c._a&&c._a.duration?c._a.duration*k:e&&e.duration?e.duration:null;return e&&!isNaN(e)&&e!==1/0?e:null},this._apply_loop=function(e,t){!e.loop&&1<t&&F._wD("Note: Native HTML5 looping is infinite.",1),e.loop=1<t?"loop":""},this._setup_html5=function(e){var t,e=v(c._iO,e),o=R?Ie:c._a,n=decodeURI(e.url);if(R?n===decodeURI(be)&&(t=!0):n===decodeURI(m)&&(t=!0),o){if(o._s)if(R)o._s&&o._s.playState&&!t&&o._s.stop();else if(!R&&n===decodeURI(m))return c._apply_loop(o,e.loops),o;t||(m&&i(!1),o.src=e.url,c.url=e.url,m=e.url,be=e.url,o._called_load=!1)}else e.autoLoad||e.autoPlay?(c._a=new Audio(e.url),c._a.load()):c._a=Ze&&opera.version()<10?new Audio(null):new Audio,(o=c._a)._called_load=!1,R&&(Ie=o);return c.isHTML5=!0,(c._a=o)._s=c,a(),c._apply_loop(o,e.loops),e.autoLoad||e.autoPlay?c.load():(o.autobuffer=!1,o.preload="auto"),o},a=function(){if(c._a._added_events)return!1;var e,t,o,n;for(e in c._a._added_events=!0,S)S.hasOwnProperty(e)&&(o=S[t=e],n=void 0,c._a&&c._a.addEventListener(t,o,n||!1));return!0},t=function(){var e,t,o,n;for(e in F._wD(c.id+": Removing event listeners"),c._a._added_events=!1,S)S.hasOwnProperty(e)&&(o=S[t=e],n=void 0,c._a&&c._a.removeEventListener(t,o,n||!1))},this._onload=function(e){var t=!!e||!c.isHTML5&&8===g&&c.duration,e=c.id+": ";return F._wD(e+(t?"onload()":"Failed to load / invalid sound?"+(c.duration?" -":" Zero-length duration reported.")+" ("+c.url+")"),t?1:2),t||c.isHTML5||(!0===F.sandbox.noRemote&&F._wD(e+O("noNet"),1),!0===F.sandbox.noLocal&&F._wD(e+O("noLocal"),1)),c.loaded=t,c.readyState=t?3:2,c._onbufferchange(0),t||c.isHTML5||c._onerror(),c._iO.onload&&Te(c,function(){c._iO.onload.apply(c,[t])}),!0},this._onerror=function(e,t){c._iO.onerror&&Te(c,function(){c._iO.onerror.apply(c,[e,t])})},this._onbufferchange=function(e){return 0!==c.playState&&(!(e&&c.isBuffering||!e&&!c.isBuffering)&&(c.isBuffering=1===e,c._iO.onbufferchange&&(F._wD(c.id+": Buffer state change: "+e),c._iO.onbufferchange.apply(c,[e])),!0))},this._onsuspend=function(){return c._iO.onsuspend&&(F._wD(c.id+": Playback suspended"),c._iO.onsuspend.apply(c)),!0},this._onfailure=function(e,t,o){c.failures++,F._wD(c.id+": Failure ("+c.failures+"): "+e),c._iO.onfailure&&1===c.failures?c._iO.onfailure(e,t,o):F._wD(c.id+": Ignoring failure")},this._onwarning=function(e,t,o){c._iO.onwarning&&c._iO.onwarning(e,t,o)},this._onfinish=function(){var e=c._iO.onfinish;c._onbufferchange(0),c._resetOnPosition(0),c.instanceCount&&(c.instanceCount--,c.instanceCount||(s(),c.playState=0,c.paused=!1,c.instanceCount=0,c.instanceOptions={},c._iO={},n(),c.isHTML5&&(c.position=0)),c.instanceCount&&!c._iO.multiShotEvents||e&&(F._wD(c.id+": onfinish()"),Te(c,function(){e.apply(c)})))},this._whileloading=function(e,t,o,n){var i=c._iO;c.bytesLoaded=e,c.bytesTotal=t,c.duration=Math.floor(o),c.bufferLength=n,c.isHTML5||i.isMovieStar?c.durationEstimate=c.duration:i.duration?c.durationEstimate=(c.duration>i.duration?c:i).duration:c.durationEstimate=parseInt(c.bytesTotal/c.bytesLoaded*c.duration,10),c.isHTML5||(c.buffered=[{start:0,end:c.duration}]),(3!==c.readyState||c.isHTML5)&&i.whileloading&&i.whileloading.apply(c)},this._whileplaying=function(e,t,o,n,i){var a=c._iO;return!isNaN(e)&&null!==e&&(c.position=Math.max(0,e),c._processOnPosition(),!c.isHTML5&&8<g&&(a.usePeakData&&t!==gt&&t&&(c.peakData={left:t.leftPeak,right:t.rightPeak}),a.useWaveformData&&o!==gt&&o&&(c.waveformData={left:o.split(","),right:n.split(",")}),a.useEQData&&i!==gt&&i&&i.leftEQ&&(e=i.leftEQ.split(","),c.eqData=e,c.eqData.left=e,i.rightEQ!==gt&&i.rightEQ&&(c.eqData.right=i.rightEQ.split(",")))),1===c.playState&&(c.isHTML5||8!==g||c.position||!c.isBuffering||c._onbufferchange(0),a.whileplaying&&a.whileplaying.apply(c)),!0)},this._oncaptiondata=function(e){F._wD(c.id+": Caption data received."),c.captiondata=e,c._iO.oncaptiondata&&c._iO.oncaptiondata.apply(c,[e])},this._onmetadata=function(e,t){F._wD(c.id+": Metadata received.");for(var o={},n=0,i=e.length;n<i;n++)o[e[n]]=t[n];c.metadata=o,c._iO.onmetadata&&c._iO.onmetadata.call(c,c.metadata)},this._onid3=function(e,t){F._wD(c.id+": ID3 data received.");for(var o=[],n=0,i=e.length;n<i;n++)o[e[n]]=t[n];c.id3=v(c.id3,o),c._iO.onid3&&c._iO.onid3.apply(c)},this._onconnect=function(e){F._wD(c.id+": "+((e=1===e)?"Connected.":"Failed to connect? - "+c.url),e?1:2),(c.connected=e)&&(c.failures=0,T(c.id)&&(c.getAutoPlay()?c.play(gt,c.getAutoPlay()):c._iO.autoLoad&&c.load()),c._iO.onconnect&&c._iO.onconnect.apply(c,[e]))},this._ondataerror=function(e){0<c.playState&&(F._wD(c.id+": Data error: "+e),c._iO.ondataerror&&c._iO.ondataerror.apply(c))},this._debug()},Z=function(){return A.body||A.getElementsByTagName("div")[0]},m=function(e){return A.getElementById(e)},v=function(e,t){var o,n=e||{},i=t===gt?F.defaultOptions:t;for(o in i)i.hasOwnProperty(o)&&n[o]===gt&&("object"!=typeof i[o]||null===i[o]?n[o]=i[o]:n[o]=v(n[o],i[o]));return n},Te=function(e,t){e.isHTML5||8!==g?t():_t.setTimeout(t,0)},q={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},j=function(e,t){var o,n=!0,i=t!==gt,a=F.setupOptions,s=q;if(e===gt){for(o in n=[],a)a.hasOwnProperty(o)&&n.push(o);for(o in s)s.hasOwnProperty(o)&&("object"==typeof F[o]?n.push(o+": {...}"):F[o]instanceof Function?n.push(o+": function() {...}"):n.push(o));return F._wD(O("setup",n.join(", "))),!1}for(o in e)if(e.hasOwnProperty(o))if("object"!=typeof e[o]||null===e[o]||e[o]instanceof Array||e[o]instanceof RegExp)i&&s[t]!==gt?F[t][o]=e[o]:a[o]!==gt?(F.setupOptions[o]=e[o],F[o]=e[o]):s[o]===gt?(L(O(F[o]===gt?"setupUndef":"setupError",o),2),n=!1):F[o]instanceof Function?F[o].apply(F,e[o]instanceof Array?e[o]:[e[o]]):F[o]=e[o];else{if(s[o]!==gt)return j(e[o],o);L(O(F[o]===gt?"setupUndef":"setupError",o),2),n=!1}return n},Se=_t.attachEvent,Fe={add:Se?"attachEvent":"addEventListener",remove:Se?"detachEvent":"removeEventListener"},P={add:function(){mt(pt(arguments),"add")},remove:function(){mt(pt(arguments),"remove")}},S={abort:e(function(){F._wD(this._s.id+": abort")}),canplay:e(function(){var t,o=this._s;if(!o._html5_canplay){if(o._html5_canplay=!0,F._wD(o.id+": canplay"),o._onbufferchange(0),t=o._iO.position===gt||isNaN(o._iO.position)?null:o._iO.position/k,this.currentTime!==t){F._wD(o.id+": canplay: Setting position to "+t);try{this.currentTime=t}catch(e){F._wD(o.id+": canplay: Setting position of "+t+" failed: "+e.message,2)}}o._iO._oncanplay&&o._iO._oncanplay()}}),canplaythrough:e(function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),durationchange:e(function(){var e=this._s,t=e._get_html5_duration();isNaN(t)||t===e.duration||(F._wD(this._s.id+": durationchange ("+t+")"+(e.duration?", previously "+e.duration:"")),e.durationEstimate=e.duration=t)}),ended:e(function(){var e=this._s;F._wD(e.id+": ended"),e._onfinish()}),error:e(function(){var e=ge[this.error.code]||null;F._wD(this._s.id+": HTML5 error, code "+this.error.code+(e?" ("+e+")":"")),this._s._onload(!1),this._s._onerror(this.error.code,e)}),loadeddata:e(function(){var e=this._s;F._wD(e.id+": loadeddata"),e._loaded||ze||(e.duration=e._get_html5_duration())}),loadedmetadata:e(function(){F._wD(this._s.id+": loadedmetadata")}),loadstart:e(function(){F._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:e(function(){this._s._onbufferchange(0)}),playing:e(function(){F._wD(this._s.id+": playing "+String.fromCharCode(9835)),this._s._onbufferchange(0)}),progress:e(function(e){var t,o,n,i,a=this._s,s="progress"===e.type,r=e.target.buffered,l=e.loaded||0,u=e.total||1;if(a.buffered=[],r&&r.length){for(t=0,o=r.length;t<o;t++)a.buffered.push({start:r.start(t)*k,end:r.end(t)*k});if(i=(r.end(0)-r.start(0))*k,l=Math.min(1,i/(e.target.duration*k)),s&&1<r.length){for(n=[],o=r.length,t=0;t<o;t++)n.push(e.target.buffered.start(t)*k+"-"+e.target.buffered.end(t)*k);F._wD(this._s.id+": progress, timeRanges: "+n.join(", "))}s&&!isNaN(l)&&F._wD(this._s.id+": progress, "+Math.floor(100*l)+"% loaded")}isNaN(l)||(a._whileloading(l,u,a._get_html5_duration()),l&&u&&l===u&&S.canplaythrough.call(this,e))}),ratechange:e(function(){F._wD(this._s.id+": ratechange")}),suspend:e(function(e){var t=this._s;F._wD(this._s.id+": suspend"),S.progress.call(this,e),t._onsuspend()}),stalled:e(function(){F._wD(this._s.id+": stalled")}),timeupdate:e(function(){this._s._onTimer()}),waiting:e(function(){var e=this._s;F._wD(this._s.id+": waiting"),e._onbufferchange(1)})},me=function(e){e=!(!e||!(e.type||e.url||e.serverURL))&&(!(e.serverURL||e.type&&ht(e.type))&&(e.type?_e({type:e.type}):_e({url:e.url})||F.html5Only||e.url.match(/data:/i)));return e},ye=function(e){var t;return e&&(t=!ze&&F.html5.canPlayType("audio/wav")?rt:st,e.src=t,e._called_unload!==gt&&(e._called_load=!1)),R&&(be=null),t},_e=function(e){if(!F.useHTML5Audio||!F.hasHTML5)return!1;var t,o,n,i=e.url||null,e=e.type||null,a=F.audioFormats;if(e&&F.html5[e]!==gt)return F.html5[e]&&!ht(e);if(!r){for(n in r=[],a)a.hasOwnProperty(n)&&(r.push(n),a[n].related&&(r=r.concat(a[n].related)));r=new RegExp("\\.("+r.join("|")+")(\\?.*)?$","i")}return(i=i?i.toLowerCase().match(r):null)&&i.length?i=i[1]:e?i=(-1!==(o=e.indexOf(";"))?e.substr(0,o):e).substr(6):t=!1,t=i&&F.html5[i]!==gt?F.html5[i]&&!ht(i):(t=F.html5.canPlayType({type:e="audio/"+i}),(F.html5[i]=t)&&F.html5[e]&&!ht(e))},ve=function(){if(!F.useHTML5Audio||!F.hasHTML5)return F.html5.usingFlash=!0,!(p=!0);var e,t,o,a,s=Audio!==gt?Ze&&opera.version()<10?new Audio(null):new Audio:null,n={};function i(e){var t,o,n=!1,i=!1;if(!s||"function"!=typeof s.canPlayType)return n;if(e instanceof Array){for(a=0,o=e.length;a<o;a++)(F.html5[e[a]]||s.canPlayType(e[a]).match(F.html5Test))&&(F.html5[e[a]]=i=!0,F.flash[e[a]]=!!e[a].match(at));n=i}else n=!(!(t=!(!s||"function"!=typeof s.canPlayType)&&s.canPlayType(e))||!t.match(F.html5Test));return n}for(e in o=F.audioFormats)if(o.hasOwnProperty(e)&&(t="audio/"+e,n[e]=i(o[e].type),n[t]=n[e],e.match(at)?(F.flash[e]=!0,F.flash[t]=!0):(F.flash[e]=!1,F.flash[t]=!1),o[e]&&o[e].related))for(a=o[e].related.length-1;0<=a;a--)n["audio/"+o[e].related[a]]=n[e],F.html5[o[e].related[a]]=n[e],F.flash[o[e].related[a]]=n[e];return n.canPlayType=s?i:null,F.html5=v(F.html5,n),F.html5.usingFlash=pe(),p=F.html5.usingFlash,!0},_={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:u+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:d+"Verify that %s is a valid path.",tryDebug:"Try "+u+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:d+"Non-HTTP page ("+A.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:d+"Special case: Waiting for SWF to load with window focus...",waitForever:d+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:d+"Waiting for 100% SWF load...",needFunction:d+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:d+"_debug(): Current sound objects",waitOnload:d+"Waiting for window.onload()",docLoaded:d+"Document already loaded",onload:d+"initComplete(): calling soundManager.onload()",onloadOK:u+".onload() complete",didInit:d+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:d+"Failed to remove Flash node.",shutdown:u+".disable(): Shutting down",queue:d+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+M.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:d+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:u+".load(): current URL already assigned.",badFV:u+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:d+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:d+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:u+".setup(): allowed parameters: %s",setupError:u+'.setup(): "%s" cannot be assigned with this method.',setupUndef:u+'.setup(): Could not find option "%s"',setupLate:u+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:d+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready. "+String.fromCharCode(10003),reset:u+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device.",ignoreMobile:"Ignoring mobile restrictions for this device."},O=function(){var e,t,o=Ke.call(arguments),n=o.shift(),i=_&&_[n]?_[n]:"";if(i&&o&&o.length)for(e=0,t=o.length;e<t;e++)i=i.replace("%s",o[e]);return i},re=function(e){return 8===g&&1<e.loops&&e.stream&&(w("as2loop"),e.stream=!1),e},le=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(F._wD((t||"")+O("policy")),e.usePolicyFile=!0),e},L=function(e){tt&&console.warn!==gt?console.warn(e):F._wD(e)},U=function(){return!1},oe=function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=U)},ne=function(e){e===gt&&(e=!1),(h||e)&&F.disable(e)},ie=function(e){if(e)if(e.match(/\.swf(\?.*)?$/i)){if(e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return e=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+F.movieURL,F.noSWFCache&&(e+="?ts="+(new Date).getTime()),e},$=function(){8!==(g=parseInt(F.flashVersion,10))&&9!==g&&(F._wD(O("badFV",g,Ue)),F.flashVersion=g=Ue);var e=F.debugMode||F.debugFlash?"_debug.swf":".swf";F.useHTML5Audio&&!F.html5Only&&F.audioFormats.mp4.required&&g<9&&(F._wD(O("needfl9")),F.flashVersion=g=9),F.version=F.versionNumber+(F.html5Only?" (HTML5-only mode)":9===g?" (AS3/Flash 9)":" (AS2/Flash 8)"),8<g?(F.defaultOptions=v(F.defaultOptions,F.flash9Options),F.features.buffering=!0,F.defaultOptions=v(F.defaultOptions,F.movieStarOptions),F.filePatterns.flash9=new RegExp("\\.(mp3|"+ct.join("|")+")(\\?.*)?$","i"),F.features.movieStar=!0):F.features.movieStar=!1,F.filePattern=F.filePatterns[8!==g?"flash9":"flash8"],F.movieURL=(8===g?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),F.features.peakData=F.features.waveformData=F.features.eqData=8<g},ee=function(e,t){I&&I._setPolling(e,t)},te=function(){var e,t,o,n,i;if((F.debugURLParam.test(Ae)&&(F.setupOptions.debugMode=F.debugMode=!0),!m(F.debugID))&&(F.debugMode&&!m(F.debugID)&&(!tt||!F.useConsole||!F.consoleOnly))){for(i in(e=A.createElement("div")).id=F.debugID+"-toggle",n={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},e.appendChild(A.createTextNode("-")),e.onclick=se,e.title="Toggle SM2 debug console",H.match(/msie 6/i)&&(e.style.position="absolute",e.style.cursor="hand"),n)n.hasOwnProperty(i)&&(e.style[i]=n[i]);if((t=A.createElement("div")).id=F.debugID,t.style.display=F.debugMode?"block":"none",F.debugMode&&!m(e.id)){try{(o=Z()).appendChild(e)}catch(e){throw new Error(O("domError")+" \n"+e.toString())}o.appendChild(t)}}},T=this.getSoundById,w=function(e,t){return e?F._wD(O(e),t):""},se=function(){var e=m(F.debugID),t=m(F.debugID+"-toggle");e&&(Ee?(t.innerHTML="+",e.style.display="none"):(t.innerHTML="-",e.style.display="block"),Ee=!Ee)},y=function(e,t,o){if(_t.sm2Debugger!==gt)try{sm2Debugger.handleEvent(e,t,o)}catch(e){return!1}return!0},D=function(){var e=[];return F.debugMode&&e.push(M.sm2Debug),F.debugFlash&&e.push(M.flashDebug),F.useHighPerformance&&e.push(M.highPerf),e.join(" ")},ae=function(){var e=O("fbHandler"),t=F.getMoviePercent(),o=M,n={type:"FLASHBLOCK"};F.html5Only||(F.ok()?(F.didFlashBlock&&F._wD(e+": Unblocked"),F.oMC&&(F.oMC.className=[D(),o.swfDefault,o.swfLoaded+(F.didFlashBlock?" "+o.swfUnblocked:"")].join(" "))):(p&&(F.oMC.className=D()+" "+o.swfDefault+" "+(null===t?o.swfTimedout:o.swfError),F._wD(e+": "+O("fbTimeout")+(t?" ("+O("fbLoaded")+")":""))),F.didFlashBlock=!0,i({type:"ontimeout",ignoreInit:!0,error:n}),b(n)))},V=function(e,t,o){c[e]===gt&&(c[e]=[]),c[e].push({method:t,scope:o||null,fired:!1})},i=function(e){if(e=e||{type:F.ok()?"onready":"ontimeout"},!f&&e&&!e.ignoreInit)return!1;if("ontimeout"===e.type&&(F.ok()||h&&!e.ignoreInit))return!1;var t,o,n={success:e&&e.ignoreInit?F.ok():!h},i=e&&e.type&&c[e.type]||[],a=[],s=[n],r=p&&!F.ok();for(e.error&&(s[0].error=e.error),t=0,o=i.length;t<o;t++)!0!==i[t].fired&&a.push(i[t]);if(a.length)for(t=0,o=a.length;t<o;t++)a[t].scope?a[t].method.apply(a[t].scope,s):a[t].method.apply(this,s),r||(a[t].fired=!0);return!0},n=function(){_t.setTimeout(function(){F.useFlashBlock&&ae(),i(),"function"==typeof F.onload&&(w("onload",1),F.onload.apply(_t),w("onloadOK",1)),F.waitForWindowLoad&&P.add(_t,"load",n)},1)},Oe=function(){if(l!==gt)return l;var t,o,e=!1,n=navigator,i=_t.ActiveXObject;try{o=n.plugins}catch(e){o=void 0}if(o&&o.length)o="application/x-shockwave-flash",(n=n.mimeTypes)&&n[o]&&n[o].enabledPlugin&&n[o].enabledPlugin.description&&(e=!0);else if(i!==gt&&!H.match(/MSAppHost/i)){try{t=new i("ShockwaveFlash.ShockwaveFlash")}catch(e){t=null}e=!!t,t=null}return l=e},pe=function(){var e,t,o=F.audioFormats;if(Ge&&!!H.match(/os (1|2|3_0|3_1)\s/i)?(F.hasHTML5=!1,F.html5Only=!0,F.oMC&&(F.oMC.style.display="none")):F.useHTML5Audio&&(F.html5&&F.html5.canPlayType||(F._wD("SoundManager: No HTML5 Audio() support detected."),F.hasHTML5=!1),et&&F._wD(d+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(l?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),F.useHTML5Audio&&F.hasHTML5)for(t in he=!0,o)o.hasOwnProperty(t)&&o[t].required&&(F.html5.canPlayType(o[t].type)?F.preferFlash&&(F.flash[t]||F.flash[o[t].type])&&(e=!0):e=!(he=!1));return F.ignoreFlash&&(he=!(e=!1)),F.html5Only=F.hasHTML5&&F.useHTML5Audio&&!e,!F.html5Only},fe=function(e){var t,o,n,i=0;if(e instanceof Array){for(t=0,o=e.length;t<o;t++)if(e[t]instanceof Object){if(F.canPlayMIME(e[t].type)){i=t;break}}else if(F.canPlayURL(e[t])){i=t;break}e[i].url&&(e[i]=e[i].url),n=e[i]}else n=e;return n},ue=function(e){e._hasTimer||(e._hasTimer=!0,!Ye&&F.html5PollingInterval&&(null===Qe&&0===Ve&&(Qe=setInterval(ce,F.html5PollingInterval)),Ve++))},de=function(e){e._hasTimer&&(e._hasTimer=!1,!Ye&&F.html5PollingInterval&&Ve--)},ce=function(){var e;if(null!==Qe&&!Ve)return clearInterval(Qe),void(Qe=null);for(e=F.soundIDs.length-1;0<=e;e--)F.sounds[F.soundIDs[e]].isHTML5&&F.sounds[F.soundIDs[e]]._hasTimer&&F.sounds[F.soundIDs[e]]._onTimer()},b=function(e){e=e!==gt?e:{},"function"==typeof F.onerror&&F.onerror.apply(_t,[{type:e.type!==gt?e.type:null}]),e.fatal!==gt&&e.fatal&&F.disable()},De=function(){if(et&&Oe()){var e,t,o=F.audioFormats;for(t in o)if(o.hasOwnProperty(t)&&("mp3"===t||"mp4"===t)&&(F._wD(u+": Using flash fallback for "+t+" format"),F.html5[t]=!1,o[t]&&o[t].related))for(e=o[t].related.length-1;0<=e;e--)F.html5[o[t].related[e]]=!1}},this._setSandboxType=function(e){var t=F.sandbox;t.type=e,t.description=t.types[t.types[e]!==gt?e:"unknown"],"localWithFile"===t.type?(t.noRemote=!0,t.noLocal=!1,w("secNote",2)):"localWithNetwork"===t.type?(t.noRemote=!1,t.noLocal=!0):"localTrusted"===t.type&&(t.noRemote=!1,t.noLocal=!1)},this._externalInterfaceOK=function(e){if(!F.swfLoaded){var t;if(y("swf",!0),y("flashtojs",!0),F.swfLoaded=!0,nt=!1,et&&De(),!e||e.replace(/\+dev/i,"")!==F.versionNumber.replace(/\+dev/i,""))return t=u+': Fatal: JavaScript file build "'+F.versionNumber+'" does not match Flash SWF build "'+e+'" at '+F.url+". Ensure both are up-to-date.",void setTimeout(function(){throw new Error(t)},0);setTimeout(W,C?100:1)}},Y=function(e,t){if(Re&&ke)return!1;function o(){var e=[],t=[],o="SoundManager "+F.version+(!F.html5Only&&F.useHTML5Audio?F.hasHTML5?" + HTML5 audio":", no HTML5 audio support":"");F.html5Only?F.html5PollingInterval&&e.push("html5PollingInterval ("+F.html5PollingInterval+"ms)"):(F.preferFlash&&e.push("preferFlash"),F.useHighPerformance&&e.push("useHighPerformance"),F.flashPollingInterval&&e.push("flashPollingInterval ("+F.flashPollingInterval+"ms)"),F.html5PollingInterval&&e.push("html5PollingInterval ("+F.html5PollingInterval+"ms)"),F.wmode&&e.push("wmode ("+F.wmode+")"),F.debugFlash&&e.push("debugFlash"),F.useFlashBlock&&e.push("flashBlock")),e.length&&(t=t.concat([e.join(" + ")])),F._wD(o+(t.length?" + "+t.join(", "):""),1),Me()}if(F.html5Only)return $(),o(),F.oMC=m(F.movieID),W(),!(ke=Re=!0);var n,i,a,s,r,l,u,d=t||F.url,c=F.altURL||d,f=Z(),h=(D(),A.getElementsByTagName("html")[0]);function p(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(h=h&&h.dir&&h.dir.match(/rtl/i),e=e===gt?F.id:e,$(),F.url=ie(lt?d:c),t=F.url,F.wmode=!F.wmode&&F.useHighPerformance?"transparent":F.wmode,null!==F.wmode&&(H.match(/msie 8/i)||!C&&!F.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(E.push(_.spcWmode),F.wmode=null),n={name:e,id:e,src:t,quality:"high",allowScriptAccess:F.allowScriptAccess,bgcolor:F.bgColor,pluginspage:ut+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:F.wmode,hasPriority:"true"},F.debugFlash&&(n.FlashVars="debug=1"),F.wmode||delete n.wmode,C)i=A.createElement("div"),s=['<object id="'+e+'" data="'+t+'" type="'+n.type+'" title="'+n.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',p("movie",t),p("AllowScriptAccess",F.allowScriptAccess),p("quality",n.quality),F.wmode?p("wmode",F.wmode):"",p("bgcolor",F.bgColor),p("hasPriority","true"),F.debugFlash?p("FlashVars",n.FlashVars):"","</object>"].join("");else for(a in i=A.createElement("embed"),n)n.hasOwnProperty(a)&&i.setAttribute(a,n[a]);if(te(),d=D(),f=Z())if(F.oMC=m(F.movieID)||A.createElement("div"),F.oMC.id)c=F.oMC.className,F.oMC.className=(c?c+" ":M.swfDefault)+(d?" "+d:""),F.oMC.appendChild(i),C&&((r=F.oMC.appendChild(A.createElement("div"))).className=M.swfBox,r.innerHTML=s),ke=!0;else{if(F.oMC.id=F.movieID,F.oMC.className=M.swfDefault+" "+d,r=l=null,F.useFlashBlock||(F.useHighPerformance?l={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(l={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},h&&(l.left=Math.abs(parseInt(l.left,10))+"px"))),Xe&&(F.oMC.style.zIndex=1e4),!F.debugFlash)for(u in l)l.hasOwnProperty(u)&&(F.oMC.style[u]=l[u]);try{C||F.oMC.appendChild(i),f.appendChild(F.oMC),C&&((r=F.oMC.appendChild(A.createElement("div"))).className=M.swfBox,r.innerHTML=s),ke=!0}catch(e){throw new Error(O("domError")+" \n"+e.toString())}}return Re=!0,o(),!0},J=function(){return F.html5Only?(Y(),!1):!I&&(F.url?((I=F.getMovie(F.id))||(Be?(C?F.oMC.innerHTML=We:F.oMC.appendChild(Be),Re=!(Be=null)):Y(F.id,F.url),I=F.getMovie(F.id)),"function"==typeof F.oninitmovie&&setTimeout(F.oninitmovie,1),Le(),!0):(w("noURL"),!1))},a=function(){setTimeout(Q,1e3)},K=function(){_t.setTimeout(function(){L(d+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false..."),F.setup({preferFlash:!1}).reboot(),F.didFlashBlock=!0,F.beginDelayedInit()},1)},Q=function(){var e,t=!1;F.url&&!je&&(je=!0,P.remove(_t,"load",a),l&&nt&&!ot?w("waitFocus"):(f||0<(e=F.getMoviePercent())&&e<100&&(t=!0),setTimeout(function(){if(e=F.getMoviePercent(),t)return je=!1,F._wD(O("waitSWF")),void _t.setTimeout(a,1);f||(F._wD(u+": No Flash response within expected time. Likely causes: "+(0===e?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(F.debugFlash?" "+O("checkSWF"):""),2),!lt&&e&&(w("localFail",2),F.debugFlash||w("tryDebug",2)),0===e&&F._wD(O("swf404",F.url),1),y("flashtojs",!1,": Timed out"+(lt?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)"))),!f&&it&&(null===e?F.useFlashBlock||0===F.flashLoadTimeout?(F.useFlashBlock&&ae(),w("waitForever")):!F.useFlashBlock&&he?K():(w("waitForever"),i({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})):0===F.flashLoadTimeout?w("waitForever"):!F.useFlashBlock&&he?K():ne(!0))},F.flashLoadTimeout)))},G=function(){function e(){P.remove(_t,"focus",G)}return ot||!nt||(ot=it=!0,w("gotFocus"),je=!1,a()),e(),!0},Le=function(){E.length&&(F._wD("SoundManager 2: "+E.join(" "),1),E=[])},Me=function(){Le();var e,t=[];if(F.useHTML5Audio&&F.hasHTML5){for(e in F.audioFormats)F.audioFormats.hasOwnProperty(e)&&t.push(e+" = "+F.html5[e]+(!F.html5[e]&&p&&F.flash[e]?" (using flash)":F.preferFlash&&F.flash[e]&&p?" (preferring flash)":F.html5[e]?"":" ("+(F.audioFormats[e].required?"required, ":"")+"and no flash support)"));F._wD("SoundManager 2 HTML5 support: "+t.join(", "),1)}},o=function(e){if(f)return!1;if(F.html5Only)return w("sm2Loaded",1),f=!0,n(),y("onload",!0),!0;var t,o=!0;return F.useFlashBlock&&F.flashLoadTimeout&&!F.getMoviePercent()||(f=!0),t={type:!l&&p?"NO_FLASH":"INIT_TIMEOUT"},F._wD("SoundManager 2 "+(h?"failed to load":"loaded")+" ("+(h?"Flash security/load error":"OK")+") "+String.fromCharCode(h?10006:10003),h?2:1),h||e?(F.useFlashBlock&&F.oMC&&(F.oMC.className=D()+" "+(null===F.getMoviePercent()?M.swfTimedout:M.swfError)),i({type:"ontimeout",error:t,ignoreInit:!0}),y("onload",!1),b(t),o=!1):y("onload",!0),h||(F.waitForWindowLoad&&!Ce?(w("waitOnload"),P.add(_t,"load",n)):(F.waitForWindowLoad&&Ce&&w("docLoaded"),n())),o},B=function(){var e,t=F.setupOptions;for(e in t)t.hasOwnProperty(e)&&(F[e]===gt?F[e]=t[e]:F[e]!==t[e]&&(F.setupOptions[e]=F[e]))},W=function(){if(f)return w("didInit"),!1;function e(){P.remove(_t,"load",F.beginDelayedInit)}if(F.html5Only)return f||(e(),F.enabled=!0,o()),!0;J();try{I._externalInterfaceTest(!1),ee(!0,F.flashPollingInterval||(F.useHighPerformance?10:50)),F.debugMode||I._disableDebug(),F.enabled=!0,y("jstoflash",!0),F.html5Only||P.add(_t,"unload",U)}catch(e){return F._wD("js/flash exception: "+e.toString()),y("jstoflash",!1),b({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),ne(!0),o(),!1}return o(),e(),!0},s=function(){return!z&&(z=!0,B(),te(),!l&&F.hasHTML5&&(F._wD("SoundManager 2: No Flash detected"+(F.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),F.setup({useHTML5Audio:!0,preferFlash:!1})),ve(),!l&&p&&(E.push(_.needFlash),F.setup({flashLoadTimeout:1})),A.removeEventListener&&A.removeEventListener("DOMContentLoaded",s,!1),J(),!0)},we=function(){return"complete"===A.readyState&&(s(),A.detachEvent("onreadystatechange",we)),!0},X=function(){Ce=!0,s(),P.remove(_t,"load",X)},Oe(),P.add(_t,"focus",G),P.add(_t,"load",a),P.add(_t,"load",X),A.addEventListener?A.addEventListener("DOMContentLoaded",s,!1):A.attachEvent?A.attachEvent("onreadystatechange",we):(y("onload",!1),b({type:"NO_DOM2_EVENTS",fatal:!0}))}_t.SM2_DEFER!==gt&&SM2_DEFER||(e=new t),"object"==typeof module&&module&&"object"==typeof module.exports?(module.exports.SoundManager=t,module.exports.soundManager=e):"function"==typeof define&&define.amd&&define(function(){return{constructor:t,getInstance:function(e){return!_t.soundManager&&e instanceof Function&&((e=e(t))instanceof t&&(_t.soundManager=e)),_t.soundManager}}}),_t.SoundManager=t,_t.soundManager=e}(window);