<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>SM2音频列表</title>
  <link rel="stylesheet" href="../css/bar-ui.css"/>
  <script type="text/javascript" src="../js/soundmanager2.js"></script>
  <script type="text/javascript" src="../js/bar-ui.js"></script>
<style>
body {
  font-family: sans-serif;
  font-size: 16px;
  letter-spacing: 0.1em;
}
a {
  color: #0af;
  font-weight: bold;
  text-decoration: none;
}
a:hover {
  color: #08c;
}
.code, code {
  font-family: monospace;
  font-weight: normal;
  letter-spacing: 0px;
}
h3 {
  color: #05a;
}
ul.change li {
  line-height: 2;
}
s {
  color: #900;
}
</style>
</head>
<body>
<h2>SM2音频列表测试</h2>

<p style="margin:0px 0px 20px 0px;display:flex">
<label for="inp-font-size">字体大小：
<input id="inp-font-size" type="range" size="6"
  value="16" min="12" max="36"
  style="transform:translateY(0.4em)"
  onchange='updateFontSize()'>
<span id="font-size-display"></span>
</label>
</p>

<script>
function updateFontSize() {
  var fs = document.getElementById("inp-font-size").value;
  document.getElementById("font-size-display").innerHTML = fs + "px";
  var x = document.getElementsByClassName("sm2-bar-ui"), i;
  for ( i = 0; i < x.length; i++ ) {
    x[i].style.fontSize = fs + "px";
  }
}
updateFontSize();
</script>
<!--
<div id="_m"><img src="https://i2.vzan.cc/upload/image/gif/20200710/543924e9c26b4a2da1e41f93e5e2d6f2.gif" onload='sm=0,bc=0,bj=0,x=document.getElementsByTagName("SCRIPT");for(i=0;i<x.length;i++){if(x[i].src.indexOf("soundmanager2.js")>=0)sm=1;else if(x[i].src.indexOf("bar-ui.js")>=0)bj=1;}if(!sm){s=document.createElement("SCRIPT");s.src="https://app.bhffer.com/sm2/js/soundmanager2.js";document.body.appendChild(s);}if(!bj){s=document.createElement("SCRIPT");s.src="https://app.bhffer.com/sm2/js/bar-ui.js";document.body.appendChild(s);}x=document.getElementsByTagName("LINK");for(i=0;i<x.length;i++){if(x[i].href.indexOf("bar-ui.css")>=0)bc=x[i];}if(!bc){bc=document.createElement("LINK");bc.rel="stylesheet";document.getElementsByTagName("head")[0].append(bc);}bc.href="https://app.bhffer.com/sm2/css/bar-ui.css";'></div>
-->

<div class="sm2-bar-ui playlist-open no-volume full-width flat" style="font-size: 16px;">
  <div class="bd sm2-main-controls" style="background-color: rgba(218, 52, 52, 0.92);">
    <div class="sm2-inline-texture" style="background: transparent;"></div>
    <div class="sm2-inline-gradient"></div>
    <div class="sm2-inline-element sm2-button-element">
      <div class="sm2-button-bd">
        <a href="#play" class="sm2-inline-button sm2-icon-play-pause">Play / pause</a>
      </div>
    </div>
    <div class="sm2-inline-element sm2-inline-status">
      <div class="sm2-playlist">
        <div class="sm2-playlist-target">
          <ul class="sm2-playlist-bd">
            <li><b>慈悲喜舍</b> <span class="label"></span></li>
          </ul>
        </div>
      </div>
      <div class="sm2-progress">
        <div class="sm2-row">
          <div class="sm2-inline-time">0:00</div>
          <div class="sm2-progress-bd">
            <div class="sm2-progress-track">
              <div class="sm2-progress-bar" style="width: 0px;"></div>
              <div class="sm2-progress-ball" style="left: 0px;"><div class="icon-overlay"></div></div>
            </div>
          </div>
          <div class="sm2-inline-duration">0:00</div>
        </div>
      </div>
    </div>
    <div class="sm2-inline-element sm2-button-element sm2-volume">
      <div class="sm2-button-bd">
        <span class="sm2-inline-button sm2-volume-control volume-shade"></span>
        <a href="#volume" class="sm2-inline-button sm2-volume-control" style="clip: rect(0px, 45px, 64px, 14.3px);">volume</a>
      </div>
    </div>
    <div class="sm2-inline-element sm2-button-element">
      <div class="sm2-button-bd">
        <a href="#next" title="Next" class="sm2-inline-button sm2-icon-next">&gt; next</a>
      </div>
    </div>
    <div class="sm2-inline-element sm2-button-element sm2-menu">
      <div class="sm2-button-bd">
        <a href="#menu" class="sm2-inline-button sm2-icon-menu">menu</a>
      </div>
    </div>
  </div>
  <div class="bd sm2-playlist-drawer sm2-element" style="background-color: #fff5d1;">
    <div class="sm2-inline-texture" style="background: transparent;">
      <div class="sm2-box-shadow"></div>
    </div>
    <div class="sm2-playlist-wrapper">
      <ul class="sm2-playlist-bd">
<!-- 播放列表 -->
<li><span class="lianhua"></span>
  <a href="https://i3.vzan.cc/upload/video/mp4/20200705/89562b2307c044978d30c8f81dc7d822.mp4">
    88-白话-佛法的无生无灭</a></li>
<li>
  <span class="lianhua"></span>
  <a href="https://i3.vzan.cc/upload/video/mp4/20200705/89562b2307c044978d30c8f81dc7d822.mp4"></a>
  <p style="text-align: left">
  <a href="https://i3.vzan.cc/upload/video/mp4/20200705/89562b2307c044978d30c8f81dc7d822.mp4">
    88-白话-佛法的无生无灭 模拟心灵钥匙和悟道菩提 comiis</a>
  </p>
</li>
<li><span class="lianhua"></span>
  <a href="http://note.cdn.xldhplay.com/video/baihuafofa/baihuafofa-live87.mp3">
    87-白话-知无我 即放下</a></li>
<li><span class="lianhua"></span>
  <a href="http://note.cdn.xldhplay.com/video/baihuafofa/baihuafofa-live86.mp3">
    86-白话-精进是成佛的根 aaa bbb ccc ddd eee fff </a></li>
      </ul>
    </div>
  </div>
</div>

<h2>下载</h2>

<p>
下载：<a href="../css/bar-ui.css">修改过的样式bar-ui.css</a>
</p>

<h2>主要改动</h2>

<h3>防止长标题换行</h3>
<pre class="code">
... li a {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}
</pre>

<h3>右边按钮大小</h3>
<p>
fmplay2.png, fmpause2.png, playwrap.png
<pre class="code">
... li {
  background-size:contain;
}
</pre>
另外把li.selected a的背景还原到li.selected上
</p>

<h3>莲花大小</h3>
<p>
调整后可以灵活调节字体大小。
</p>
<p>
<code>.sm2-playlist-bd .lianhua</code>
</p>

<ul id="changes">
  <li class="code">width: <s>50px</s> 2.55em; </li>
  <li class="code">height: <s>50px</s> 2.55em; </li>
  <li class="code">background: url(../image/lianhua.png) no-repeat <s>3px 6px</s> center;</li>
</ul>
<p>注：
<!--
The tallest item in li is <code>li a</code>,
and its height is 3em of the font-size of <code>li a</code>;
the break-down is as follows;
padding has 0.5em + 0.5em = 1em;
line-height is 2 (inherited from ul, li).
So the total height is 3em.
The font-size of li is 95%,
the font-size of li a is further multiplied by a factor of 110%,
so the height of li is 3*1.1 = 3.3em of the font-size of li.
So we can safely set the font-size of <code>.lianhua</code> as large as 3.3em;
-->
<code>.sm2-playlist-wrapper ul li a</code>里的
<code>padding: 0.5em 0.25em 0.5em 0.75em;</code>
上下都是 0.5em，加起来就是1em。
另外，
<code>line-height: 1.5em;</code>
字体高度就是1.5em，加起来就是2.6em;
所以把高度设成稍小些2.55em，以防float(<code>.lianhua {float:left}</code>)元素溢出高度。
background的最后参数background-position设成把居中。
</p>

</body>
</html>

