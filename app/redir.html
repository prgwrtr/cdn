<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta id="viewport">
  <title>&nbsp;</title>
  <link rel="stylesheet" href="./css/redir.css?v=0.2.0">
</head>
<body>

<div id="container">

<div id="prompt-panel" style="display:none">

  <div class="three-dots-pointer-arrow">
    <svg xmlns="http://www.w3.org/2000/svg" height="1em" fill="currentColor" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4.854 1.146a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L4 2.707V12.5A2.5 2.5 0 0 0 6.5 15h8a.5.5 0 0 0 0-1h-8A1.5 1.5 0 0 1 5 12.5V2.707l3.146 3.147a.5.5 0 1 0 .708-.708l-4-4z"/>
    </svg>
  </div>

  <div class="prompt-label">链接转向</div>

  <div class="input-box">
    <div class="inp-group">

      <label for="url">
        您将要访问 <span id="title"></span> ：
      </label>

      <div id="url" class="url-wrapper"></div>
      
      <div class="toolbar">
        <button id="copy-target-url">
          复制地址
        </button>
      </div>

    </div>  
  </div>

  <div class="instruction-container">

    <h3>操作方法</h3>

    <ul class="instruction-list">

      <li>请点击右上角
        <span class="three-dots">···</span>
        菜单
      </li>
  
      <li>
        选择
        <img
          src="//app1.bhffres.com/img/WechatOpenWithBrowser.png"
          id="img-open-in-browser"
          alt="在浏览器打开"
          style="height:2em;vertical-align:middle">
        “在浏览器打开”<br>
        <span style="font-size:80%">（英文版微信提示文字：“Open with Browser”）</span>
      </li>
  
    </ul>
  
  </div>
</div> <!-- #prompt-panel -->

<div id="gen-panel" style="display:none">
  <h1>链接转向生成器<span class="version">v0.2.0</span></h1>

  <div class="inp-group">
    <label for="inp-url">输入网址：</label>
    <textarea
      id="inp-url"
      class="input-component"
      rows="5"
      placeholder="https://bing.com"></textarea>
  </div>

  <div class="inp-group">
    <label>链接模式：</label><br>
    <select
      id="mode"
      class="input-component">
      <option value="go">直接转跳</option>
      <option value="0">微信内提示转跳</option>
      <option value="1">总是提示转跳</option>
      <option value="2" selected>微信内网页内嵌</option>
      <option value="3">总是网页内嵌</option>
    </select>
  </div>

  <div class="inp-group">
    <label for="inp-title">网站标题（可选）：</label>
    <textarea
      id="inp-title"
      class="input-component"
      rows="2"></textarea>
  </div>

  <div
    class="advanced-options"
    style="display:none">
    <div class="inp-group">
      <label for="enc">网址编码算法：</label>
      <br>
      <select
        id="enc"
        class="input-component">
        <option value="0" selected>默认</option>
        <option value="1">倒序+字母对换</option>
        <option value="2">64进制文本</option>
        <option value="none">不编码</option>
      </select>
    </div>

    <div class="inp-group">
      <label for="mobile">网页是否为手机版？</label>
      <br>
      <select
        id="mobile"
        class="input-component">
        <option value="" selected>不指定</option>
        <option value="0">电脑版</option>
        <option value="1">手机版</option>
      </select>
    </div>

    <div class="inp-group">
      <label for="dmap">自动更新过期的域名：</label>
      <br>
      <select
        id="dmap"
        class="input-component">
        <option value="0">不用</option>
        <option value="1" selected>使用</option>
      </select>
    </div>

    <div class="inp-group">
      <label for="server">服务器：</label>
      <br>
      <select
        id="server"
        class="input-component">
        <option
          value="">
          当前
        </option>
        <option
          value="http://app1.xfez.xyz/app/redir.html"
          selected>
          服务器1
        </option>
        <option
          value="http://i1.xjdh.org/app/redir.html">
          服务器2
        </option>
        <option
          value="http://rr.zgh1.com/app/redir.html">
          服务器3
        </option>
      </select>
    </div>
  </div>

  <div id="out-url-group" style="display:none">
    <div id="out-url-wrapper" class="url-wrapper">
      <a id="out-url" href="#" target="_blank" rel="noopener noreferrer"></a>
    </div>
    <div class="note-text">
      注意：链接默认会在用户点击时进行加密，<b>点开后分享会失效</b>。所以请复制以上文本链接直接分享。
    </div>
  </div>

  <div class="inp-group">

    <button id="create-redirect-url">
      生成
    </button>

    <button id="copy-redirect-url">
      复制
    </button>

    <button id="toggle-advanced-options">
      显示高级选项
    </button>

  </div>
</div> <!-- #gen-panel -->

</div> <!-- #container -->

<iframe 
  id="embed-page"
  style="display:none"
  scrolling="yes">
</iframe>

<script src="./js/common1.js?v=0.2.0"></script>
<script src="./js/urlhead.js?v=0.2.0"></script>
<script src="./js/urib64.js?v=0.2.0"></script>
<script>window.domainMapDataPath__ = "./";</script>
<script src="./js/domainmap.js?v=0.2.0"></script>
<script src="./js/redir.js?v=0.2.0"></script>

</body>
</html>
