<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta id="viewport">
  <script src="./js/domredir.js?v=0.22"></script>
  <title>&nbsp;</title>
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
<!--
  <link rel="stylesheet" href="./css/redir.css?v=0.15">
-->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/prgwrtr/cdn/app/css/redir.css?v=0.1.19">
</head>
<body>

<div id="container">
<div id="redir-panel" style="display:none">
  <div class="inp-group">
    <label for="url">您将要访问<span id="title" style="font-weight:bold"></span>：</label>
    <div id="url" class="url-wrapper"></div>
    <button id="copy-url" class="a-btn" onclick="copyURL(this)">复制地址</button>
  </div>
  <ul style="line-height:2.5">
    <li>请点击右上角
    <span class="three-dots">···</span>
    菜单
    <li>选择
<!--
      src="https://i.niupic.com/images/2020/07/20/8qXI.png"
-->
    <img src="https://cdn.jsdelivr.net/gh/prgwrtr/cdn/app/img/WechatOpenWithBrowser.png"
      alt="在浏览器打开" style="height:2em;vertical-align:middle">
    “在浏览器打开”<br>
    <span style="font-size:80%">（英文版：“Open with Browser”）</span>
  </ul>
</div>

<div id="gen-panel" style="display:none">
  <h1>链接转向生成器</h1>

  <div class="inp-group">
    <label for="inp-url">输入网址：</label>
    <textarea id="inp-url" rows="5" placeholder="https://bing.com"
      onchange="genLink()"></textarea>
  </div>

  <div class="inp-group">
    <label>链接模式：</label><br>
    <select id="mode" onchange="genLink()">
      <option value="go">直接转跳</option>
      <option value="0" selected>微信内提示转跳</option>
      <option value="1">始终提示转跳（测试用）</option>
      <option value="2">微信内网页内嵌</option>
      <option value="3">始终网页内嵌</option>
    </select>
  </div>

  <div class="inp-group">
    <label for="inp-title">网站标题（可选）：</label>
    <textarea id="inp-title" rows="2" onchange="genLink()"></textarea>
  </div>

  <div id="advanced-options" style="display:none">
    <div class="inp-group">
      <label for="enc">网址编码算法：</label><br>
      <select id="enc" onchange="genLink()">
        <option value="0" selected>默认</option>
        <option value="1">倒序+字母对换</option>
        <option value="2">64进制文本</option>
        <option value="none">不编码</option>
      </select>
    </div>

    <div class="inp-group">
      <label for="mobile">网页是否为手机版？</label><br>
      <select id="mobile" onchange="genLink()">
        <option value="" selected>不指定</option>
        <option value="0">电脑版</option>
        <option value="1">手机版</option>
      </select>
    </div>

    <div class="inp-group">
      <label for="dmap">自动更新过期的域名：</label><br>
      <select id="dmap" onchange="genLink()">
        <option value="0">不用</option>
        <option value="1" selected>使用</option>
      </select>
    </div>

    <div class="inp-group">
      <label for="server">服务器：</label><br>
      <select id="server" onchange="genLink()">
        <option value="" selected>当前</option>
        <option value="http://baidu.xljt.cloud/extra/app/redir.html">心灵净土云盘</option>
        <option value="http://app.bhffer.com/redir.html">app.bhffer.com</option>
<!--
        <option value="http://output.jsbin.com/gayacob">JSBin</option>
        <option value="https://prgwrtr.github.io/cdn/app/redir.html">GitHub（仅https）</option>
-->
      </select>
    </div>
  </div>

  <div id="out-url-wrapper" class="url-wrapper" style="display:none">
    <a id="out-url" href="#" target="_blank" rel="noopener noreferrer"></a>
  </div>

  <div class="inp-group">
    <button id="gen-link" class="a-btn" onclick="genLink()">生成</button>
    <!-- <button id="shorten-link" class="a-btn" onclick="shortenLink()">缩短</button> -->
    <button id="copy-link" class="a-btn" onclick="copyLink(this)">复制</button>
    <button class="a-btn" onclick='btnToggle("#advanced-options",this)'>显示高级选项</button>
  </div>
</div>
</div> <!-- container -->

<iframe id="embed-page" src="about:blank"
  style="display:none;z-index:100"
  frameborder="0" scrolling="yes" marginheight="0" marginwidth="0">
</iframe>

<!--
<script src="https://cdn.jsdelivr.net/gh/prgwrtr/cdn@0.1.24/app/js/com1.min.js"></script>
<script src="./js/urlhead.js?v=0.03"></script>
<script src="./js/urib64.js?v=0.02"></script>
<script src="./js/shortenurl.js?v=0.01"></script>
-->
<script src="./js/common1.js?v=0.38"></script>
<script src="https://cdn.jsdelivr.net/gh/prgwrtr/cdn/app/js/urlhead.min.js?v=0.1.17"></script>
<script src="https://cdn.jsdelivr.net/gh/prgwrtr/cdn/app/js/urib64.min.js?v=0.1.17"></script>
<!--
<script>window.domainMapDataPath__ = "./";</script>
<script src="./js/domainmap.js?v=0.04"></script>
-->
<script src="https://cdn.jsdelivr.net/gh/prgwrtr/cdn/app/js/domainmap.min.js?v=0.1.22"></script>
<!--
<script src="https://cdn.jsdelivr.net/gh/prgwrtr/cdn@0.1.24/app/js/redir.min.js"></script>
-->
<script src="./js/redir.js?v=0.17"></script>

</body>
</html>
